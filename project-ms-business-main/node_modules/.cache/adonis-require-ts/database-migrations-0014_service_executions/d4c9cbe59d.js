"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Schema_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Lucid/Schema"));
class default_1 extends Schema_1.default {
    constructor() {
        super(...arguments);
        this.tableName = "service_executions";
    }
    async up() {
        this.schema.createTable(this.tableName, (table) => {
            table.increments("id");
            table
                .integer("customer_id")
                .unsigned()
                .references("customers.id")
                .onUpdate("CASCADE");
            table
                .integer("service_id")
                .unsigned()
                .references("services.id")
                .onUpdate("CASCADE");
            table.timestamp("created_at", { useTz: true });
            table.timestamp("updated_at", { useTz: true });
        });
    }
    async down() {
        this.schema.dropTable(this.tableName);
    }
}
exports.default = default_1;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMDAxNF9zZXJ2aWNlX2V4ZWN1dGlvbnMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIwMDE0X3NlcnZpY2VfZXhlY3V0aW9ucy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLHVGQUFrRDtBQUVsRCxlQUFxQixTQUFRLGdCQUFVO0lBQXZDOztRQUNZLGNBQVMsR0FBRyxvQkFBb0IsQ0FBQztJQXdCN0MsQ0FBQztJQXRCUSxLQUFLLENBQUMsRUFBRTtRQUNiLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNoRCxLQUFLLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3ZCLEtBQUs7aUJBQ0YsT0FBTyxDQUFDLGFBQWEsQ0FBQztpQkFDdEIsUUFBUSxFQUFFO2lCQUNWLFVBQVUsQ0FBQyxjQUFjLENBQUM7aUJBQzFCLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN2QixLQUFLO2lCQUNGLE9BQU8sQ0FBQyxZQUFZLENBQUM7aUJBQ3JCLFFBQVEsRUFBRTtpQkFDVixVQUFVLENBQUMsYUFBYSxDQUFDO2lCQUN6QixRQUFRLENBQUMsU0FBUyxDQUFDLENBQUM7WUFFdkIsS0FBSyxDQUFDLFNBQVMsQ0FBQyxZQUFZLEVBQUUsRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztZQUMvQyxLQUFLLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQ2pELENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQztJQUVNLEtBQUssQ0FBQyxJQUFJO1FBQ2YsSUFBSSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3hDLENBQUM7Q0FDRjtBQXpCRCw0QkF5QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQmFzZVNjaGVtYSBmcm9tIFwiQGlvYzpBZG9uaXMvTHVjaWQvU2NoZW1hXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGV4dGVuZHMgQmFzZVNjaGVtYSB7XG4gIHByb3RlY3RlZCB0YWJsZU5hbWUgPSBcInNlcnZpY2VfZXhlY3V0aW9uc1wiO1xuXG4gIHB1YmxpYyBhc3luYyB1cCgpIHtcbiAgICB0aGlzLnNjaGVtYS5jcmVhdGVUYWJsZSh0aGlzLnRhYmxlTmFtZSwgKHRhYmxlKSA9PiB7XG4gICAgICB0YWJsZS5pbmNyZW1lbnRzKFwiaWRcIik7XG4gICAgICB0YWJsZVxuICAgICAgICAuaW50ZWdlcihcImN1c3RvbWVyX2lkXCIpXG4gICAgICAgIC51bnNpZ25lZCgpXG4gICAgICAgIC5yZWZlcmVuY2VzKFwiY3VzdG9tZXJzLmlkXCIpXG4gICAgICAgIC5vblVwZGF0ZShcIkNBU0NBREVcIik7XG4gICAgICB0YWJsZVxuICAgICAgICAuaW50ZWdlcihcInNlcnZpY2VfaWRcIilcbiAgICAgICAgLnVuc2lnbmVkKClcbiAgICAgICAgLnJlZmVyZW5jZXMoXCJzZXJ2aWNlcy5pZFwiKVxuICAgICAgICAub25VcGRhdGUoXCJDQVNDQURFXCIpO1xuXG4gICAgICB0YWJsZS50aW1lc3RhbXAoXCJjcmVhdGVkX2F0XCIsIHsgdXNlVHo6IHRydWUgfSk7XG4gICAgICB0YWJsZS50aW1lc3RhbXAoXCJ1cGRhdGVkX2F0XCIsIHsgdXNlVHo6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgZG93bigpIHtcbiAgICB0aGlzLnNjaGVtYS5kcm9wVGFibGUodGhpcy50YWJsZU5hbWUpO1xuICB9XG59XG4iXX0=